function mr_parallax(){function e(){return y?$(".viu").find("nav:first").outerHeight(!0):$(document).find("nav:first").outerHeight(!0)}function i(){if(c){for(var e=m.length,t=d();e--;)s(m[e],t);c=!1}var n,l,o,a,r;f&&(p+=-h*(r=(n=w)-1,r/=a=T,n/=a,(o=v)*(--n*n*n*n*n+1)+(l=0)-(o*(--r*r*r*r*r+1)+l)),(x<p||p<-x)&&(E.scrollBy(0,p),p=0),T<++w&&(!(f=!1),p=h=w=0)),u(i)}function s(e,t){if(y){if(t+o>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){var n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[l]=n}else{n="translate3d(0, "+(t-e.elemTop-a)/2+"px, 0)";e.imageHolder.style[l]=n}}else if(t+o>e.elemTop&&t<e.elemBottom)if(e.isFirstSection){n="translate3d(0, "+t/2+"px, 0)";e.imageHolder.style[l]=n}else{n="translate3d(0, "+(t+o-e.elemTop)/2+"px, 0)";e.imageHolder.style[l]=n}}function d(){return E!=window?E.scrollTop:0==document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function t(){c=!0}function n(e){e.preventDefault&&e.preventDefault(),h=e.notRealWheel?-e.deltaY/4:1==e.deltaMode?-e.deltaY/3:100===Math.abs(e.deltaY)?-e.deltaY/120:-e.deltaY/40,h=r<(h=h<-r?-r:h)?r:h,f=!0,w=g}var m,u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,l=function(e){for(var t=0;t<e.length;t++)if(void 0!==document.body.style[e[t]])return e[t];return null}(["transform","msTransform","webkitTransform","mozTransform","oTransform"]),o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a=0,c=!1,f=!1,w=0,h=0,p=0,r=2,g=4,v=300,x=1,T=30,E=(p=0,window),H=this,y=null!=window.mr_variant;$(document).ready(function(){"use strict";o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?$(".parallax").removeClass("parallax"):u&&(window.mr_parallax.profileParallaxElements(),(y=null!=window.mr_variant)&&null!=(E=$(".viu").get(0))&&(E.scrollBy=function(e,t){this.scrollTop+=t}),null!=E&&(E.addEventListener("scroll",t,!1),window.addWheelListener(E,n,!1),window.addEventListener("resize",function(){o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a=e(),H.profileParallaxElements()},!1),i()))}),$(window).load(function(){o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a=e(),window.mr_parallax.profileParallaxElements()}),this.profileParallaxElements=function(){m=[],a=e(),selector=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder",y&&(selector=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder"),$(selector).each(function(e,t){var n=$(this).closest(".parallax"),l=y?n.position().top:n.offset().top;m.push({section:n.get(0),outerHeight:n.outerHeight(),elemTop:l,elemBottom:l+n.outerHeight(),isFirstSection:!!n.is(":first-of-type"),imageHolder:$(this).get(0)}),y?y&&(n.is(":first-of-type")?H.mr_setTranslate3DTransform($(this).get(0),0==d()?0:d()/2):H.mr_setTranslate3DTransform($(this).get(0),(d()-l-a)/2)):n.is(":first-of-type")?H.mr_setTranslate3DTransform($(this).get(0),0==d()?0:d()/2):H.mr_setTranslate3DTransform($(this).get(0),(d()+o-l-a)/2)})},this.mr_setTranslate3DTransform=function(e,t){e.style[l]="translate3d(0, "+t+"px, 0)"}}window.mr_parallax=new mr_parallax,function(o,e){function l(e,t,n,l){e[a](i+t,"wheel"==r?n:function(e){!e&&(e=o.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==r?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail/3,n(t)},l||!1)}var a,r,i="";o.addEventListener?a="addEventListener":(a="attachEvent",i="on"),r="onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll",o.addWheelListener=function(e,t,n){l(e,r,t,n),"DOMMouseScroll"==r&&l(e,"MozMousePixelScroll",t,n)}}(window,document);